(this["webpackJsonpreddit-coding-assignment"]=this["webpackJsonpreddit-coding-assignment"]||[]).push([[0],{13:function(t){t.exports=JSON.parse('{"a":[{"ship":"carrier","positions":[[2,9],[3,9],[4,9],[5,9],[6,9]]},{"ship":"battleship","positions":[[5,2],[5,3],[5,4],[5,5]]},{"ship":"cruiser","positions":[[8,1],[8,2],[8,3]]},{"ship":"submarine","positions":[[3,0],[3,1],[3,2]]},{"ship":"destroyer","positions":[[0,0],[1,0]]}]}')},22:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var i,s=n(1),o=(n(0),n(5)),c=n.n(o),r=(n(22),n(2));n(29),n(30);!function(t){t.NEW_GAME="NEW_GAME",t.GAME_OVER="GAME_OVER",t.FIRE="FIRE"}(i||(i={}));var a={fire:function(t){return function(t){return{type:i.FIRE,cell:t}}(t)}},u=Object(r.b)(null,a)((function(t){var e=t.shipId,n=t.isShot,i=t.coordinates,o=t.fire;console.log("rerender ".concat(i.column," ").concat(i.row));var c="\n            Cell-container \n            ".concat(n&&null===e?"Cell-shot":"","\n            ").concat(n&&null!==e?"Cell-on-fire":"","\n        ");return Object(s.jsx)("div",{className:c,onClick:function(){o(i)}})})),l=(n(31),function(){return Object(s.jsxs)("div",{className:"GameLogo-container",children:[Object(s.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/1461/1461855.svg",className:"GameLogo-logo"}),Object(s.jsx)("div",{className:"GameLogo-text",children:"Battleship v1.0"})]})}),f=(n(32),"NOT_STARTED_STATUS"),p="IN_PROGRESS_STATUS",d=Object(r.b)((function(t){return{field:t.field,gameStatus:t.gameStatus}}))((function(t){var e=t.field,n=t.gameStatus;return Object(s.jsx)("div",{className:"Battlefield-container",children:n===f?Object(s.jsx)(l,{}):function(){var t=[];return e.forEach((function(e,n){e.forEach((function(e,i){t.push(Object(s.jsx)(u,{isShot:e.isShot,coordinates:e.coordinates,shipId:e.shipId},"".concat(n).concat(i)))}))})),t}()})})),j=(n(33),{startGame:function(){return{type:i.NEW_GAME}}}),h=Object(r.b)((function(t){return{gameStatus:t.gameStatus}}),j)((function(t){var e=t.gameStatus,n=t.startGame;return Object(s.jsx)("button",{className:"StartButton-button",onClick:n,children:e===f?"Start":"Restart"})})),m=Object(s.jsxs)("div",{style:{position:"fixed",top:-1e4,left:-1e4},children:[Object(s.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Emoji_u1f525.svg/120px-Emoji_u1f525.svg.png",alt:""}),Object(s.jsx)("img",{src:"https://image.freepik.com/free-vector/you-win-lettering-pop-art-text-banner_185004-60.jpg",alt:""})]});function b(t){var e=!0;return t.shipsList.forEach((function(t){t.life>0&&(e=!1)})),e&&t.gameStatus===p}n(34);var g=Object(r.b)((function(t){return{isGameWon:b(t)}}))((function(t){var e=t.isGameWon;return Object(s.jsx)("div",{className:"YouWinPopup-container",children:e&&Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{className:"YouWinPopup-image",src:"https://image.freepik.com/free-vector/you-win-lettering-pop-art-text-banner_185004-60.jpg"}),Object(s.jsx)(h,{})]})})})),v=Object(r.b)((function(t){return{isGameWon:b(t)}}))((function(t){var e=t.isGameWon;return Object(s.jsxs)("div",{className:"App",children:[m,Object(s.jsx)(d,{}),!e&&Object(s.jsx)(h,{}),Object(s.jsx)(g,{})]})})),O=n(6),x=n(16),E=n(7),S=n(13),G=n(15),N=n(14);function _(t){var e,n=[],i=Object(N.a)(t);try{for(i.s();!(e=i.n()).done;){var s=e.value,o=s.ship,c=s.positions;n.push({body:c,type:o,life:c.length})}}catch(r){i.e(r)}finally{i.f()}return n}function w(){for(var t=[],e=0;e<10;e++){for(var n=[],i=0;i<10;i++)n.push({coordinates:{column:i,row:e},isShot:!1,shipId:null});t.push(n)}return t}function y(t,e){e.forEach((function(e,n){e.body.forEach((function(e){var i=Object(G.a)(e,2),s=i[0],o=i[1];t[o][s].shipId=n}))}))}var I={shipsList:[],field:[],gameStatus:f};var A=Object(O.b)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.NEW_GAME:var n=w(),s=_(S.a);return y(n,s),{shipsList:Object(E.a)(s),field:Object(E.a)(n),gameStatus:p};case i.FIRE:var o=Object(x.a)({},t),c=o.field,r=e.cell,a=r.column,u=r.row,l=c[u][a],f=l.shipId;return null===f||l.isShot||t.shipsList[f].life--,l.isShot=!0,o.field=Object(E.a)(c),console.log(o),o;default:return t}}),I);c.a.render(Object(s.jsx)(r.a,{store:A,children:Object(s.jsx)(v,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.53a887bd.chunk.js.map